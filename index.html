<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Control de Propinas - Sahara</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <div class="container mt-4">
    <div class="text-center mb-4">
      <img src="logo.png" alt="Sahara Men's Club" class="logo">
    </div>

    <div class="card p-4">
      <h2 class="text-center mb-4">Control de Propinas</h2>
      <div class="row g-3 mb-4">
        <div class="col-md-6">
          <input id="mesero" class="form-control" placeholder="Nombre del mesero">
        </div>
        <div class="col-md-4">
          <input id="propina" type="number" step="0.01" class="form-control" placeholder="Propina recibida">
        </div>
        <div class="col-md-2 d-grid">
          <button onclick="agregarPropina()" class="btn btn-primary">Agregar</button>
          <button onclick="terminarTurno()" class="btn btn-danger mt-2">Terminar Turno</button>
        </div>
      </div>
      <hr>
      <label for="turnos">Ver Turno:</label>
      <select id="turnos" onchange="mostrarTurno()"></select>
      <button class="btn btn-secondary" onclick="exportarCSV()">Exportar CSV</button>
      <div class="table-responsive mt-3">
        <table class="table table-dark table-hover text-center align-middle">
          <thead>
            <tr>
              <th>Mesero</th>
              <th>Total</th>
              <th>Mesero (40%)</th>
              <th>Staff (60%)</th>
            </tr>
          </thead>
          <tbody id="tbodyResumen"></tbody>
          <tfoot>
            <tr>
              <td colspan="3"><strong>Total Staff</strong></td>
              <td id="totalStaff">$0.00</td>
            </tr>
            <tr>
             <!-- td colspan="3"><strong>Casa (redondeo)</strong></td>
              <td id="totalCasa">$0.00</td>-->
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
<!--  <div class="card mt-4 p-4">
  <h4 class="mb-3">Subir Archivos (Firebase)</h4>
  <input type="file" id="archivoInput" class="form-control mb-2" />
  <button class="btn btn-warning" onclick="subirArchivo()">Subir</button>
  <div id="enlace" class="mt-3"></div>
  </div>
  <script src="script.js"></script>
  <!-- Firebase SDK 
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-storage.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyB9MHEqhrI15W6617faksvQEeJG7Xa530o",
    authDomain: "saharatips-80435.firebaseapp.com",
    projectId: "saharatips-80435",
    storageBucket: "saharatips-80435.appspot.com",
    messagingSenderId: "502294849880",
    appId: "1:502294849880:web:0831f470e8527ad7191d2d",
    measurementId: "G-4PBNCNLM9B"
  };

  firebase.initializeApp(firebaseConfig);
  const storage = firebase.storage();

  function subirArchivo() {
    const archivo = document.getElementById('archivoInput').files[0];
    if (!archivo) {
      alert("Selecciona un archivo.");
      return;
    }

    const storageRef = storage.ref('archivos/' + archivo.name);
    storageRef.put(archivo)
      .then(snapshot => snapshot.ref.getDownloadURL())
      .then(url => {
        document.getElementById('enlace').innerHTML = `
          <div class="alert alert-success">
            Archivo subido:<br>
            <a href="${url}" target="_blank">${url}</a>
          </div>`;
      })
      .catch(error => {
        document.getElementById('enlace').innerHTML = `
          <div class="alert alert-danger">Error: ${error.message}</div>`;
      });
  }-->
</script>
</body>
</html>
